<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniProject App (Стильный)</title>

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.1/dist/tailwind.min.css" rel="stylesheet">

    <link rel="stylesheet" href="/css/style.css">

    <style>
        /* Определяем переменные для легкой смены цветов */
        :root {
            --primary-color: #3b82f6; /* blue-500 */
            --secondary-color: #10b981; /* emerald-500 */
            --error-color: #ef4444; /* red-500 */
        }

        /* Плавное появление и hover эффекты */
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }

        /* Дополнительные стили, невозможные в Tailwind */
        .card {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }

        /* Стиль для отключенных кнопок */
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            box-shadow: none;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 via-indigo-50 to-blue-100 min-h-screen">

<nav class="bg-white shadow-xl p-4 flex justify-between items-center sticky top-0 z-50 border-b-4 border-blue-500">
    <div class="text-3xl font-extrabold text-blue-600 tracking-wider">MiniProject</div>
    <div id="auth-buttons" class="flex gap-3">
        <button id="show-login-btn" class="bg-blue-500 text-white px-5 py-2 rounded-full shadow-lg hover:bg-blue-600 transform hover:scale-105 transition duration-300 font-semibold">Sign In</button>
        <button id="show-register-btn" class="bg-emerald-500 text-white px-5 py-2 rounded-full shadow-lg hover:bg-emerald-600 transform hover:scale-105 transition duration-300 font-semibold">Sign Up</button>
    </div>
    <div id="user-info" class="hidden flex items-center gap-4">
        <span id="user-email-span" class="font-bold text-gray-700 text-lg"></span>
        <button id="logout-btn" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-300">Logout</button>
    </div>
</nav>

<div class="container mx-auto mt-16">
    <div id="auth-forms" class="max-w-lg mx-auto bg-white p-10 rounded-2xl shadow-2xl border border-gray-100 fade-in">

        <div id="login-form">
            <h2 class="text-4xl font-extrabold mb-8 text-blue-700 text-center">Welcome Back</h2>
            <div id="login-message" class="text-sm mb-4 p-3 rounded-lg text-center hidden"></div>

            <input id="login-email" type="email" placeholder="Email Address" required class="w-full mb-5 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500">
            <input id="login-password" type="password" placeholder="Password" required class="w-full mb-8 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500">
            <button id="login-btn" class="w-full bg-blue-600 text-white py-4 rounded-xl shadow-xl hover:bg-blue-700 transform hover:-translate-y-0.5 transition duration-300 font-bold text-lg">Sign In</button>
            <p class="mt-6 text-center text-gray-500 text-base">
                Don't have an account?
                <span id="show-register-link" class="text-emerald-500 cursor-pointer font-bold hover:text-emerald-600">Create Account</span>
            </p>
        </div>

        <div id="register-form" class="hidden">
            <h2 class="text-4xl font-extrabold mb-8 text-emerald-700 text-center">Join Us Today</h2>
            <div id="register-error" class="text-sm mb-4 p-3 rounded-lg text-center hidden"></div>

            <input id="register-name" type="text" placeholder="Full Name" required class="w-full mb-4 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-100 focus:border-emerald-500">
            <input id="register-email" type="email" placeholder="Email" required class="w-full mb-4 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-100 focus:border-emerald-500">
            <input id="register-password" type="password" placeholder="Password (min. 6 chars)" required class="w-full mb-4 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-100 focus:border-emerald-500">
            <input id="register-confirm-password" type="password" placeholder="Confirm Password" required class="w-full mb-8 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-100 focus:border-emerald-500">

            <button id="register-btn" class="w-full bg-emerald-600 text-white py-4 rounded-xl shadow-xl hover:bg-emerald-700 transform hover:-translate-y-0.5 transition duration-300 font-bold text-lg">Sign Up</button>
            <p class="mt-6 text-center text-gray-500 text-base">
                Already have an account?
                <span id="show-login-link" class="text-blue-500 cursor-pointer font-bold hover:text-blue-600">Sign In</span>
            </p>
        </div>
    </div>
</div>

<div id="app-content" class="container mx-auto mt-12 p-6 hidden fade-in">

    <div class="flex flex-col md:flex-row justify-between items-center mb-10 gap-6 bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
        <input id="search-input" type="text" placeholder="Search by name, address, or description..." class="border p-4 rounded-xl w-full md:w-2/3 text-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 shadow-inner">
        <button id="add-item-btn" class="bg-blue-600 text-white px-8 py-4 rounded-xl shadow-lg hover:bg-blue-700 transform hover:scale-105 transition duration-300 font-bold text-lg w-full md:w-1/3">
            + Add Listing
        </button>
    </div>

    <div id="add-item-form-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex justify-center items-center z-[100] p-4">
        <div class="bg-white p-8 rounded-2xl shadow-3xl w-full max-w-2xl relative fade-in transform scale-100">

            <form id="add-item-form">
                <h3 class="text-3xl font-extrabold mb-6 text-emerald-600">Add New Listing</h3>
                <div id="add-item-error" class="text-sm mb-4 p-3 rounded-lg text-center hidden"></div>

                <input id="item-name" type="text" placeholder="Listing Name (e.g., Cozy Apartment)" required class="w-full mb-4 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-100 focus:border-emerald-500">
                <input id="item-price" type="number" placeholder="Price (USD)" required class="w-full mb-4 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-100 focus:border-emerald-500">
                <input id="item-address" type="text" placeholder="Full Address" required class="w-full mb-4 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-100 focus:border-emerald-500">
                <textarea id="item-description" placeholder="Detailed Description..." class="w-full mb-4 p-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-4 focus:ring-emerald-100 focus:border-emerald-500 h-32"></textarea>

                <label class="block text-sm font-bold text-gray-700 mb-2">Upload Image (Max 1)</label>
                <input id="item-image" type="file" class="w-full mb-6 border p-3 rounded-xl file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100 cursor-pointer">

                <div class="flex justify-end gap-3">
                    <button id="cancel-add-item-btn" type="button" class="px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-100 transition duration-300 font-semibold">Cancel</button>
                    <button id="submit-add-item-btn" type="submit" class="bg-emerald-600 text-white px-8 py-3 rounded-xl hover:bg-emerald-700 transition duration-300 font-bold">Submit Listing</button>
                </div>
            </form>
        </div>
    </div>

    <div id="items-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
    </div>
</div>

<script src="/js/main.js" defer></script>
</body>
</html>